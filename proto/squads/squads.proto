syntax = "proto3";

package squad.v1;

option go_package = "github.com/OpenBuilders/not-games-sdk-public/gen/grpc/go/squad";

service SquadsService {
  rpc StreamEvents(StreamEventsRequest) returns (stream StreamEventsResponse) {}
  rpc AddGroup(AddGroupRequest) returns (AddGroupResponse) {}
  rpc StreamAckMessages(StreamEventAckRequest) returns (StreamEventAckResponse) {}
}

message StreamEventsRequest {
  string consumer = 1;
  int64 limit = 2;
  bool ack_by_request = 3;
}

message StreamEventsResponse {
  string type = 1;
  int64 account_id = 2;
  int64 squad_id = 3;
  int64 timestamp = 4;
  string message_id = 5;
}

message AddGroupRequest {
}

message AddGroupResponse {
  string status = 1;
}

message StreamEventAckRequest {
  repeated string messages = 1;
}

message StreamEventAckResponse {
  bool status = 1;
}